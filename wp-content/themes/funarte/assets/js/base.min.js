$(document).ready(function(){base.acessibilidade.iniciar(),base.acessibilidade.manipularFontes(),base.acessibilidade.ativarAltoContraste(),base.busca.manipular(),base.jsNaoObstrusivo.ativar(),base.menu.manipular(),base.scroll.rolarAoTopo(),base.scroll.observarRolagem(),base.scroll.manipularElemento(),base.collapse.manipularColuna(),base.carrossel.iniciarDestaques(),base.carrossel.iniciarAcervo(),base.carrossel.iniciarAgenda(),base.carrossel.iniciarEditais(),base.noticias.visualizar(),base.collapse.manipularBox1(),base.carrossel.iniciarEventos(),base.carrossel.iniciarZoom(),base.carrossel.iniciarAnexos(),base.carrossel.iniciarImagens(),base.carrossel.iniciarMidias(),base.carrossel.iniciarAudios(),base.audio.ativar(),base.tabs.visualizar(),base.carrossel.verificarTabs(),base.carrossel.iniciarTabsOnOff(),base.carrossel.iniciarTabsOn(),base.menuLateral.exibir(),base.carrossel.iniciarCalendarioCompacto(),base.carrossel.iniciarCalendarioCompleto(),base.carrossel.iniciarCalendarioFormulario(),base.calendario.ativar(),base.calendario.ativarCompacto(),base.calendario.atualizaCarrosselCompacto(),base.audio.ativarListaColecao(),base.calendario.ativarAgenda()});var base={audio:{ativar:function(){var e=$(".audio-player");0<e.length&&e.musicPlayer({elements:["controls","time","volume","progress"]})},ativarListaColecao:function(){$("#items-list-results").on("click",".audios-list__play",function(){var e=$(this);e.siblings(".audios-list__audio").musicPlayer({elements:["controls","time","volume","progress"]}),e.parents(".audios-list__box").addClass("active")})}},calendario:{ativarAgenda:function(){$(".datepicker-agenda").datepicker({})},ativar:function(){var e;0<$(".datepicker,.datepicker-agenda").length&&(e=function(e){return e.regional["pt-BR"]={closeText:"Fechar",prevText:"&#x3C;Anterior",nextText:"Próximo&#x3E;",currentText:"Hoje",monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sábado"],dayNamesShort:["D","S","T","Q","Q","S","S"],dayNamesMin:["D","S","T","Q","Q","S","S"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},e.setDefaults(e.regional["pt-BR"]),e.regional["pt-BR"]},"function"==typeof define&&define.amd?define(["../widgets/datepicker"],e):e(jQuery.datepicker),$(".datepicker").datepicker())},ativarCompacto:function(){var e=$(".datepicker-compacto");if(0<e.length){var a,t,i,o,s,n=$(".box-calendario").find(".slick-active").find(".box-calendario__data").data("inicial");n?s=$.datepicker.parseDate($.datepicker._defaults.dateFormat,n):n=null,e.datepicker({defaultDate:s,beforeShowDay:function(e){return a=$(".box-calendario").find(".slick-active").find(".box-calendario__data").data("inicial"),t=$(".box-calendario").find(".slick-active").find(".box-calendario__data").data("final"),i=a?$.datepicker.parseDate($.datepicker._defaults.dateFormat,a):0,o=t?$.datepicker.parseDate($.datepicker._defaults.dateFormat,t):0,[!0,i&&(e.getTime()==i.getTime()||o&&i<=e&&e<=o)?"active":""]},onSelect:function(e,a){base.calendario.atualizaCarrosselCompacto()}})}$(".datepicker-compacto-filtro").change(function(){base.calendario.atualizaCarrosselCompacto()})},atualizaCarrosselCompacto:function(){var s='<ul class="calendario-carousel">',t=$(".box-calendario"),n=$(".box-calendario-main"),r=0,l=$(".datepicker-compacto");if(0<l.length){var e=l.datepicker("getDate");if(!e)return;e=e.getTime()/1e3;var a=$("#datepicker-compacto-filtro-local").val(),i=$("#datepicker-compacto-filtro-area").val(),o="day="+e;a&&(o+="&local="+a),i&&(o+="&area="+i),$.ajax({type:"GET",url:funarte.ajaxurl+"?action=get_events_by_day&"+o,timeout:3e3,contentType:"application/json; charset=utf-8",cache:!1,beforeSend:function(){$(".calendario-carousel,.slick-dots").remove(),n.addClass("loading").removeClass("active")},error:function(){n.removeClass("loading"),t.html('<span class="box-calendario__message">Não foi encontrado nenhum evento no dia selecionado.</span>')},success:function(e){var i,o,a=JSON.parse(e);$.each(a,function(e,a){i=a.dataInicial.split("/"),o=a.dataFinal.split("/"),mesInicial=base.calendario.transformarMes(i[1]),mesFinal=base.calendario.transformarMes(o[1]);var t=i[0]+"/"+mesInicial;a.dataInicial!=a.dataFinal&&(t+=" - "+o[0]+"/"+mesFinal),s+='<li class="color-'+a.areaSlug+'">\t\t\t\t\t\t\t\t\t\t\t<h3 class="box-calendario__data" data-inicial="'+a.dataInicial+'" data-final="'+a.dataFinal+'">'+t+'</h3>\t\t\t\t\t\t\t\t\t\t\t<h4 class="box-calendario__titulo">'+a.titulo+'</h4>\t\t\t\t\t\t\t\t\t\t\t<hr>\t\t\t\t\t\t\t\t\t\t\t<div class="box-calendario__imagem" style="background-image: url('+a.imagem+');">\t\t\t\t\t\t\t\t\t\t\t\t<div class="link-area">\t\t\t\t\t\t\t\t\t\t\t\t\t<a href="'+a.areaLink+'">'+a.areaSlug+'</a>\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t<div class="box-calendario__linha">\t\t\t\t\t\t\t\t\t\t\t\t<div class="box-calendario__coluna-1">\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="box-calendario__time">'+a.horario+'</span>\t\t\t\t\t\t\t\t\t\t\t\t\t<span class="box-calendario__pin">'+a.endereco+'</span>\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t\t<div class="box-calendario__coluna-2">\t\t\t\t\t\t\t\t\t\t\t\t\t<p>'+a.texto+'</p>\t\t\t\t\t\t\t\t\t\t\t\t\t<a class="link-more" href="'+a.url+'">Ler mais</a>\t\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t\t\t\t\t\t\t</li>',r++}),r<=0&&(s+='<li><span class="box-calendario__message">Não foi encontrado nenhum evento no dia selecionado.</span></li>'),s+="</ul>",t.html(s),base.carrossel.iniciarCalendarioCompacto(),l.datepicker("refresh"),n.removeClass("loading")}})}},transformarMes:function(e){switch(e){case"01":mes="JAN";break;case"02":mes="FEV";break;case"03":mes="MAR";break;case"04":mes="ABR";break;case"05":mes="MAI";break;case"06":mes="JUN";break;case"07":mes="JUL";break;case"08":mes="AGO";break;case"09":mes="SET";break;case"10":mes="OUT";break;case"11":mes="NOV";break;case"12":mes="DEZ"}return mes}},scroll:{rolarAoTopo:function(){$(".button-scroll-top").on("click",function(){$("html,body").animate({scrollTop:0},"slow")})},observarRolagem:function(){var e=$(window);e.on("scroll",function(){base.scroll.manipularElemento(e.height()/2)})},manipularElemento:function(e){var a=$(window),t=$(".button-scroll-top");null==e&&(e=a.height()/2),e>=a.scrollTop()?t.hasClass("hidden")||t.addClass("hidden"):t.hasClass("hidden")&&t.removeClass("hidden")}},menuLateral:{exibir:function(){$(".box-list-links__button").on("click",function(){$(".box-list-links").toggleClass("active"),$(this).toggleClass("active")})}},tabs:{visualizar:function(){$(".box-tabs--active").find(".list-tabs").find("a").on("click",function(){var e=$(this).attr("href");return $(e).addClass("active").siblings(".content-tab__content").removeClass("active"),$(this).parent("li").addClass("active").siblings("li").removeClass("active"),!1})}},collapse:{manipularBox1:function(){$(".collapse__button").on("click",function(){var e=$(this),a=e.text().split(" "),t="";a[0]="Ocultar"==a[0]?"Exibir":"Ocultar";for(var i=0;i<a.length;i++)t+=a[i]+" ";e.text(t).toggleClass("active").siblings(".collapse__text").slideToggle(200)})},manipularColuna:function(){$(".links-list--collapse").find("strong").on("click",function(){$(this).toggleClass("active").siblings("ul").toggleClass("active")})}},menu:{manipular:function(){$(".navbar-toggler").on("click",function(){$(this).parents(".navigation-menu").find(".menu-wrapper").toggleClass("active")})}},noticias:{visualizar:function(){$(".box-news__load").on("click",function(){var e=$(this),a=e.siblings("ul.visible:last").next("ul");if(0<a.length)return a.addClass("visible"),0==a.next("ul").length&&e.addClass("active"),!1})}},carrossel:{iniciarMidias:function(){var e=$(".box-bidding--type-b");$(".box-bidding--type-b__carousel").slick({speed:1e3,infinite:!1,slidesToShow:3,slidesToScroll:3,vertical:!0,adaptiveHeight:!0,prevArrow:e.find(".control__prev"),nextArrow:e.find(".control__next")})},iniciarAudios:function(){var e=$(".box-carousel-audio");$(".carousel-audio").slick({speed:1e3,infinite:!1,slidesToShow:1,slidesToScroll:1,vertical:!0,prevArrow:e.find(".control__prev"),nextArrow:e.find(".control__next")})},iniciarCalendarioCompacto:function(){var e=$(".box-calendario-main"),a=$(".calendario-carousel");a.slick({speed:500,infinite:!1,slidesToShow:1,slidesToScroll:1,dots:!0,appendDots:e,adaptiveHeight:!0,prevArrow:e.find(".control__prev"),nextArrow:e.find(".control__next")}),a.on("afterChange",function(e,a){$(".datepicker-compacto").datepicker("refresh")}),e.addClass("active")},iniciarCalendarioFormulario:function(){$(".carousel-calendar-box .form-filtro-calendario input.datepicker-field").on("change",function(e){var a=$(this).val().split("/"),t=window.location.href;t=t.split("?")[0],t+="?dia="+a[0]+"&mes="+a[1]+"&ano="+a[2],window.location.href=t})},iniciarCalendarioCompleto:function(){var e=$(".carousel-calendar-box"),c=!0;$(".carousel-calendar").on("afterChange",function(e,a,t){if(a.slideCount-t<=7&&c){c=!1;var i=parseInt($(".carousel-calendar").data("mes"))+1,o=parseInt($(".carousel-calendar").data("ano"));13==i&&(i=1,o++),n=(s=a).slideCount-1,r=i,l=o,$.ajax({url:funarte.ajaxurl,type:"GET",data:{action:"get_events_by_month",mes:r,ano:l},success:function(r){var l="";Object.keys(r.events).forEach(function(e,a){eventos=r.events[e];var t=["DOM","SEG","TER","QUA","QUI","SEX","SAB"][new Date(e.replace(/(\d{2})\/(\d{2})\/(\d{4})/,"$2/$1/$3")).getDay()],i=e.split("/")[0]+"/"+e.split("/")[1],o="";for(var s in eventos){var n=eventos[s];o=o+'<div class="carousel-calendar__event color-'+n.cat.slug+'"> \t\t\t\t\t\t\t\t\t\t<strong>'+n.title+'</strong> \t\t\t\t\t\t\t\t\t\t<span class="carousel-calendar__pin">'+n.local+'</span> \t\t\t\t\t\t\t\t\t\t\t<span class="carousel-calendar__time">das '+n.hora.inicio+" às "+n.hora.fim+" horas</span>  \t\t\t\t\t\t\t\t\t</div>"}l=l+'<li><div class="carousel-calendar__button"><button type="text">'+t+"<br>"+i+"</button> </div>"+(o=""==o?"<strong>Nenhum evento</strong>":o)+"</li>"}),s.slickAdd(l,n),c=!0},error:function(e){c=!0}}),$(".carousel-calendar").data("mes",i),$(".carousel-calendar").data("ano",o)}var s,n,r,l}),$(".carousel-calendar").on("init",function(e,a){a.slickGoTo($(".carousel-calendar li.active").data("slick-index"))}),$(".carousel-calendar").slick({speed:500,infinite:!0,slidesToShow:5,slidesToScroll:5,centerMode:!0,centerPadding:"0",focusOnSelect:!0,adaptiveHeight:!0,prevArrow:e.find(".control__prev"),nextArrow:e.find(".control__next"),responsive:[{breakpoint:1200,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:450,settings:{slidesToShow:1,slidesToScroll:1}}]})},verificarTabs:function(){var e=$(".list-tabs-on-off").find(".list-tabs__main");$(window).resize(function(){$(window).width()<1100&&(e.hasClass("slick-slider")||base.carrossel.iniciarTabsOnOff())})},iniciarTabsOnOff:function(){var e=$(".list-tabs--on-off");e.find(".list-tabs__main").slick({speed:1e3,infinite:!1,slidesToShow:2,slidesToScroll:1,prevArrow:e.find(".control__prev"),nextArrow:e.find(".control__next"),adaptiveHeight:!0,responsive:[{breakpoint:1e4,settings:"unslick"},{breakpoint:1100,settings:{slidesToShow:2}},{breakpoint:768,settings:{slidesToShow:1}}]})},iniciarTabsOn:function(){var e=$(".list-tabs--on");e.find(".list-tabs__main").slick({speed:1e3,infinite:!1,slidesToShow:3,slidesToScroll:1,prevArrow:e.find(".control__prev"),nextArrow:e.find(".control__next"),adaptiveHeight:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:2}},{breakpoint:992,settings:{slidesToShow:1}}]})},iniciarImagens:function(){var e=$(".box-carousel-image");$(".carousel-image").slick({speed:1e3,infinite:!1,slidesToShow:3,slidesToScroll:1,prevArrow:e.find(".control__prev"),nextArrow:e.find(".control__next"),responsive:[{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:586,settings:{slidesToShow:1,slidesToScroll:1}}]})},iniciarDestaques:function(){var e=$(".box-carousel-highlights");$(".carousel-highlights").slick({speed:1e3,fade:!0,infinite:!0,autoplay:!1,autoplaySpeed:2e3,slidesToShow:1,prevArrow:e.find(".control__prev"),nextArrow:e.find(".control__next"),dots:!0,adaptiveHeight:!0}).on("beforeChange",function(e,a,t,i){var o=$(".carousel-highlights__captions"),s=$(".hidden__caption-"+i).outerWidth();o.css("width",s+40),o.find(".visible").removeClass("visible").end().find(".carousel-highlights__caption-"+i).addClass("visible")})},iniciarAcervo:function(){var e=$(".box-carousel-collection");4<$(".carousel-collection").find("li").length&&$(".carousel-collection").slick({speed:1e3,infinite:!1,slidesToShow:4,slidesToScroll:4,prevArrow:e.find(".control__prev"),nextArrow:e.find(".control__next"),adaptiveHeight:!0,responsive:[{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:586,settings:{slidesToShow:1,slidesToScroll:1}}]})},iniciarAgenda:function(){var o=$(".box-carousel-schedule");$(".carousel-schedule").slick({speed:2e3,infinite:!1,slidesToShow:2,slidesToScroll:1,autoplay:!1,prevArrow:o.find(".control__next"),nextArrow:o.find(".control__prev"),adaptiveHeight:!0,variableWidth:!0,responsive:[{breakpoint:992,settings:{slidesToShow:1,variableWidth:!1}}]}).on("beforeChange",function(e,a,t,i){$thumb=$(".carousel-schedule__thumb"),$thumb.find(".visible").removeClass("visible").end().find(".carousel-schedule__image-"+(i+1)).addClass("visible"),o.addClass("barra-larga")}).on("afterChange",function(){o.removeClass("barra-larga")})},iniciarEditais:function(){var e=$(".box-carousel-notices");$(".carousel-notices").slick({speed:1e3,infinite:!1,slidesToShow:4,slidesToScroll:4,vertical:!0,adaptiveHeight:!0,prevArrow:e.find(".control__prev"),nextArrow:e.find(".control__next")})},iniciarEventos:function(){var e=$(".box-carousel-events");2<$(".carousel-events").find("li").length&&(e.addClass("carousel-active"),$(".carousel-events").slick({speed:1e3,infinite:!0,slidesToShow:2,slidesToScroll:1,prevArrow:e.find(".control__prev"),nextArrow:e.find(".control__next"),responsive:[{breakpoint:1200,settings:{slidesToShow:1,slidesToScroll:1}}]}))},iniciarAnexos:function(){var e=$(".box-carousel-attachments"),a=$(".carousel-attachments");6<a.find("li").length&&(e.addClass("carousel-active"),a.slick({speed:1e3,infinite:!1,slidesToShow:6,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,prevArrow:e.find(".control__prev"),nextArrow:e.find(".control__next"),responsive:[{breakpoint:1200,settings:{slidesToShow:5}},{breakpoint:992,settings:{slidesToShow:4}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:430,settings:{slidesToShow:1,slidesToScroll:1}}]}))},iniciarZoom:function(){var e=$(".box-carousel-zoom");$(".carousel-zoom").slick({speed:1e3,infinite:!1,slidesToShow:3,slidesToScroll:1,prevArrow:e.find(".control__prev"),nextArrow:e.find(".control__next"),variableWidth:!0,dots:!0,responsive:[{breakpoint:1200,settings:{slidesToShow:2}},{breakpoint:992,settings:{slidesToShow:1,variableWidth:!1}}]})}},acessibilidade:{iniciar:function(){accessibilityCounter=0},manipularFontes:function(){jQuery(".button-text-minus").on("click",function(){if(-3<accessibilityCounter){var e=jQuery("html"),a=e.css("font-size").split("px");e.css("font-size",parseInt(a[0])-2),accessibilityCounter--}}),jQuery(".button-text-default").on("click",function(){jQuery("html").css("font-size","1rem"),accessibilityCounter=0}),jQuery(".button-text-plus").on("click",function(){if(accessibilityCounter<3){var e=jQuery("html"),a=e.css("font-size").split("px");e.css("font-size",parseInt(a[0])+3),accessibilityCounter++}})},ativarAltoContraste:function(){jQuery(".button-high-contrast").on("click",function(){jQuery("body").toggleClass("contraste")})}},busca:{manipular:function(){var e=$(".box-searchform");$("#s").on("focus",function(){e.addClass("active")}),$("#searchsubmit").on("blur",function(){e.removeClass("active")}),$(".searchform-button").on("click",function(){e.toggleClass("active")}),e.on("click",function(e){e.stopPropagation()}),$("body,.searchcancel").on("click",function(){e.removeClass("active")})}},jsNaoObstrusivo:{ativar:function(){$("body").addClass("js")}}};